<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chess Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="chessStyle.css" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <div class="game-left">
            <div class="board-container">
                <canvas class="move-canvas" id="moveCanvas"></canvas>
                <div class="board" id="board"></div>
            </div>
            <div class="button-container">
                <button id="revertButton" class="control-button" disabled>Revert Move</button>
            </div>
        </div>
        <div class="game-right">
            <div class="game-info">
                <div id="turn">
                    <div class="turn-info">
                        <span>White's turn</span>
                        <div id="ai-spinner" class="spinner"></div>
                    </div>
                    <span class="move-counter">Move: 1</span>
                </div>
                <div id="status"></div>
                <div id="ai-score" class="ai-score">AI Score: 0</div>
            </div>
            <div class="game-log" id="game-log"></div>
        </div>
        <div class="settings-button" onclick="game.toggleSettings()">⚙️ Settings</div>
    </div>

    <div class="settings-overlay" id="settingsOverlay">
        <div class="settings-panel">
            <div class="settings-header">
                <h2>Game Settings</h2>
                <button class="settings-close" onclick="game.toggleSettings()">×</button>
            </div>
            
            <div class="piece-setting">
                <label>Piece Style:</label>
                <select id="pieceSetSelect" onchange="game.pieceSet = this.value; game.applySettings()">
                    <option value="unicode">Unicode Symbols</option>
                    <option value="text">Text Characters</option>
                    <option value="fancy">Unicode Alt</option>
                </select>
            </div>
            
            <div class="difficulty-control">
                <label class="difficulty-label">AI Difficulty:</label>
                <div class="difficulty-buttons">
                    <button class="difficulty-button" data-depth="1">Easy</button>
                    <button class="difficulty-button" data-depth="2">Medium</button>
                    <button class="difficulty-button active" data-depth="3">Hard</button>
                    <button class="difficulty-button" data-depth="4">Expert</button>
                </div>
            </div>
            <div class="color-setting">
                <label>Avaliable Moves Color:</label>
                <input type="color" id="primaryColor" value="#00ffff">
            </div>
            <div class="color-setting">
                <label>Safe Capture Color:</label>
                <input type="color" id="secondaryColor" value="#ff00ff">
            </div>
            <div class="color-setting">
                <label>Board Light Square:</label>
                <input type="color" id="lightSquare" value="#1a1a2e">
            </div>
            <div class="color-setting">
                <label>Board Dark Square:</label>
                <input type="color" id="darkSquare" value="#2a2a4e">
            </div>
            <div class="color-setting">
                <label>Danger Color:</label>
                <input type="color" id="dangerColor" value="#ff0000">
            </div>
            <div class="color-setting">
                <label>Move Trace Color:</label>
                <input type="color" id="moveLineColor" value="#ff8c00">
            </div>
            <div class="color-setting">
                <label>Checkmate Move Color:</label>
                <input type="color" id="checkmateColor" value="#00ff00">
            </div>
            <div class="color-setting">
                <label>White Piece Color:</label>
                <input type="color" id="whitePieceColor" value="#ffffff">
            </div>
            <div class="color-setting">
                <label>Black Piece Color:</label>
                <input type="color" id="blackPieceColor" value="#000000">
            </div>
            <div class="settings-actions">
                <button class="settings-button-action" onclick="game.applyColors()">Apply</button>
                <button class="settings-button-action" onclick="game.resetColors()">Reset</button>
            </div>
        </div>
    </div>

    <div class="modal" id="checkmateModal">
        <div class="modal-content">
            <h2>Game Over</h2>
            <p id="modalMessage"></p>
            <button class="modal-button" onclick="location.reload()">Play Again</button>
            <button class="modal-close" onclick="document.getElementById('checkmateModal').classList.remove('show')">×</button>
        </div>
    </div>

    <script src="chess.js"></script>
</body>
</html>
